<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pyramid Screenshot Carousel</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Overlay styles */
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.85);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        cursor: zoom-out;
      }
      #overlay img {
        max-width: 90vw;
        max-height: 90vh;
        border-radius: 0.5rem;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.9);
        user-select: none;
      }
    </style>
  </head>
  <script src="script.js"></script>
  <body class="carousel-page">
    <!-- 3D Video Background Layer -->
    <video class="bg-3d" autoplay muted loop playsinline>
      <source src="videos/background.mp4" type="video/mp4" />
      <source src="videos/background.webm" type="video/webm" />
      Your browser does not support the background video tag.
    </video>
    <h1>Homelab Portfolio: Screenshot Pyramid</h1>

    <!-- Carousel Wrapper -->
    <div class="carousel-wrapper">
      <button id="prevBtn" class="carousel-btn left-btn">&#10094;</button>
      <button id="nextBtn" class="carousel-btn right-btn">&#10095;</button>

      <div id="carousel">
        <!-- First slide -->
        <div class="pyramid-slide">
          <div class="image-row">
            <img
              src="images/Testing Pi-Hole 3.1.webp"
              alt="Left 1"
              class="left"
            />
            <img
              src="images/Testing Pi-Hole 3.2.webp"
              alt="Center 1"
              class="center"
            />
            <img
              src="images/Testing Pi-Hole pfSense 3.3.webp"
              alt="Right 1"
              class="right"
            />
          </div>
          <p>Checking that Pi-Hole is blocking listed ads</p>
        </div>

        <!-- Swapped: original third slide now second -->
        <div class="pyramid-slide">
          <div class="image-row">
            <img
              src="images/Before Malicious Test pfSense Log 1.1.webp"
              alt="Left 3"
              class="left"
            />
            <img
              src="images/Before Checking pfSense 1.2.webp"
              alt="Center 3"
              class="center"
            />
            <img
              src="images/Before Checking pfSense (running) 1.3.webp"
              alt="Right 3"
              class="right"
            />
          </div>
          <p>Checking that pfSense is running</p>
        </div>

        <!-- Swapped: original second slide now third -->
        <div class="pyramid-slide">
          <div class="image-row">
            <img
              src="images/Blocking known malicious site log 2.1.webp"
              alt="Left 2"
              class="left"
            />
            <img
              src="images/Blocked Connection to Malicious Site via pfSense VM 2.2.webp"
              alt="Center 2"
              class="center"
            />
            <img
              src="images/pfSense firewall running 2.3.webp"
              alt="Right 2"
              class="right"
            />
          </div>
          <p>
            Testing pfSense is actively blocking the Rocky VM Client from
            accessing known malicious sites
          </p>
        </div>
      </div>
    </div>

    <!-- Overlay for zoomed image -->
    <div id="overlay">
      <img id="overlay-img" src="" alt="Zoomed screenshot" />
      <p id="overlay-caption"></p>
    </div>

    <script>
      // Resize background video to cover the entire viewport
      function resizeBgVideo() {
        const video = document.querySelector(".bg-3d");
        if (video) {
          video.style.height =
            Math.max(document.body.scrollHeight, window.innerHeight) + "px";
        }
      }
      window.addEventListener("resize", resizeBgVideo);
      window.addEventListener("DOMContentLoaded", resizeBgVideo);
    </script>
  </body>
</html>
